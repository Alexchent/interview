# 组合模式组合模式用于 整体与部分的结构，当整体与部分有相似的结构，在操作时可以被一致对待时，就可以使用组合模式。定义：将对象以树形结构组织起来，以达成“部分－整体”的层次结构，使得客户端对单个对象和组合对象的使用具有一致性例如：- 文件夹和子文件夹的关系：文件夹中可以存放文件，也可以新建文件夹，子文件夹也一样。- 总公司子公司的关系：总公司可以设立部门，也可以设立分公司，子公司也一样。- 树枝和分树枝的关系：树枝可以长出叶子，也可以长出树枝，分树枝也一样。在这些关系中，虽然整体包含了部分，但无论整体或部分，都具有一致的行为。>组合模式：又叫部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据树形结构来组合对象，用来表示部分以及整体层次。这种类型的设计模式属于结构型模式，它创建了对象组的树形结构。考虑这样一个实际应用：设计一个公司的人员分布结构，结构如下图所示。![人员分布结构图](https://pic3.zhimg.com/80/v2-996bb76203be586161b57280d252c64e_720w.jpg)我们注意到人员结构中有两种结构，一是管理者，如老板，PM，CFO，CTO，二是职员。其中有的管理者不仅仅要管理职员，还会管理其他的管理者。这就是一个典型的整体与部分的结构。- [透明方式的组合模式](/DesignPatterns/Composite/test.php)>透明方式：在 Component 中声明所有管理子对象的方法，包括 add 、remove 等，这样继承自 Component 的子类都具备了 add、remove 方法。对于外界来说叶节点和枝节点是透明的，它们具备完全一致的接口。