<?php/** * Created by PhpStorm. * User: chentao * Date: 2019/12/17 * Time: 3:20 PM */namespace Controller\Home;use Queue\Rabbit;class Index{    public function test(){        //向队列queueName_test里放入消息        $config = array("host" => "127.0.0.1", "port" => "5672", "login" => "admin", "password" => "admin");        $rabbit = new Rabbit($config);        $rabbit->publish('queueName_test', time());    }    public function consumer(){        $config = array("host" => "127.0.0.1", "port" => "5672", "login" => "admin", "password" => "admin");        $rabbit = new Rabbit($config);        $rabbit->consume('queueName_test', 'callbackDoWork');    }    public function callbackDoWork($envelope, $queue)    {        $data = $envelope->getBody(); // 消息内容        print_r($data);        $envelopeId = $envelope->getDeliveryTag();        print_r($envelopeId);    }}